[
  {
    "version": "v1.0.0",
    "changelog": [
      "Initial release"
    ],
    "manifest": {
      "fields": [
        {
          "label": "Network Token",
          "name": "network_token",
          "description": "Token for the TagoIO Network that the relay will use for communication.",
          "field_type": "token",
          "token_type": "network",
          "required": true,
          "env_key": "TAGOIO__RELAY__NETWORK_TOKEN"
        },
        {
          "label": "Authorization Token",
          "name": "authorization_token",
          "description": "Authorization token from TagoIO for device authentication.",
          "field_type": "token",
          "token_type": "authorization",
          "required": true,
          "env_key": "TAGOIO__RELAY__AUTHORIZATION_TOKEN"
        },
        {
          "label": "TagoIO API URL",
          "name": "tagoio_url",
          "description": "URL for the TagoIO API endpoint (e.g., https://api.tago.io, https://api.us-e1.tago.io, https://api.eu-w1.tago.io)",
          "field_type": "url",
          "default": "https://api.tago.io",
          "required": true,
          "env_key": "TAGOIO__RELAY__TAGOIO_URL"
        },
        {
          "label": "Downlink Port",
          "name": "downlink_port",
          "description": "Port for the middleware endpoint to receive messages from TagoIO",
          "field_type": "number",
          "default": 3001,
          "required": true,
          "env_key": "TAGOIO__RELAY__DOWNLINK_PORT"
        },
        {
          "label": "MQTT Client ID",
          "name": "mqtt_client_id",
          "description": "Unique identifier for the MQTT client connection",
          "field_type": "string",
          "default": "tagoio-relay",
          "required": true,
          "env_key": "TAGOIO__RELAY__MQTT__CLIENT_ID"
        },
        {
          "label": "MQTT Broker Address",
          "name": "mqtt_address",
          "description": "Hostname or IP address of the MQTT broker",
          "field_type": "string",
          "default": "localhost",
          "required": true,
          "env_key": "TAGOIO__RELAY__MQTT__ADDRESS"
        },
        {
          "label": "MQTT Broker Port",
          "name": "mqtt_port",
          "description": "Port number of the MQTT broker",
          "field_type": "number",
          "default": 1883,
          "required": true,
          "env_key": "TAGOIO__RELAY__MQTT__PORT"
        },
        {
          "label": "MQTT Username",
          "name": "mqtt_username",
          "description": "Username for MQTT broker authentication",
          "field_type": "string",
          "required": false,
          "env_key": "TAGOIO__RELAY__MQTT__USERNAME"
        },
        {
          "label": "MQTT Password",
          "name": "mqtt_password",
          "description": "Password for MQTT broker authentication",
          "field_type": "password",
          "required": false,
          "env_key": "TAGOIO__RELAY__MQTT__PASSWORD"
        },
        {
          "label": "MQTT TLS Enabled",
          "name": "mqtt_tls_enabled",
          "description": "Enable TLS/SSL for MQTT broker connection",
          "field_type": "boolean",
          "default": false,
          "required": false,
          "env_key": "TAGOIO__RELAY__MQTT__TLS_ENABLED"
        },
        {
          "label": "MQTT Subscribe Topics",
          "name": "mqtt_subscribe",
          "description": "Comma-separated list of MQTT topics to subscribe to (e.g., /tago/#,/topic/+)",
          "field_type": "string",
          "default": "/tago/#",
          "required": true,
          "env_key": "TAGOIO__RELAY__MQTT__SUBSCRIBE"
        },
        {
          "label": "Cargo Server SSL CA Certificate",
          "name": "cargo_server_ssl_ca",
          "description": "Base64-encoded CA certificate for private Cargo registry authentication (required for building)",
          "field_type": "textarea",
          "required": true,
          "env_key": "CARGO_SERVER_SSL_CA"
        },
        {
          "label": "Cargo Server SSL Certificate",
          "name": "cargo_server_ssl_cert",
          "description": "Base64-encoded client certificate for private Cargo registry authentication (required for building)",
          "field_type": "textarea",
          "required": true,
          "env_key": "CARGO_SERVER_SSL_CERT"
        },
        {
          "label": "Cargo Server SSL Key",
          "name": "cargo_server_ssl_key",
          "description": "Base64-encoded private key for private Cargo registry authentication (required for building)",
          "field_type": "textarea",
          "required": true,
          "env_key": "CARGO_SERVER_SSL_KEY"
        },
        {
          "label": "MQTT Broker TLS CA Certificate",
          "name": "mqtt_broker_tls_ca",
          "description": "CA certificate for MQTT broker TLS connection (optional)",
          "field_type": "textarea",
          "required": false,
          "env_key": "TAGOIO__RELAY__MQTT__BROKER_TLS_CA"
        },
        {
          "label": "MQTT Broker TLS Certificate",
          "name": "mqtt_broker_tls_cert",
          "description": "Client certificate for MQTT broker TLS connection (optional)",
          "field_type": "textarea",
          "required": false,
          "env_key": "TAGOIO__RELAY__MQTT__BROKER_TLS_CERT"
        },
        {
          "label": "MQTT Broker TLS Key",
          "name": "mqtt_broker_tls_key",
          "description": "Private key for MQTT broker TLS connection (optional)",
          "field_type": "textarea",
          "required": false,
          "env_key": "TAGOIO__RELAY__MQTT__BROKER_TLS_KEY"
        }
      ],
      "components": [
        {
          "id": "relay",
          "name": "MQTT Relay",
          "type": "api",
          "docker": "tagoio/relay",
          "port": 3001,
          "protocol": "https"
        }
      ]
    }
  }
]
